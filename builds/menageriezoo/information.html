<!DOCTYPE html>

<html>
<head>
	<script src="http://code.responsivevoice.org/responsivevoice.js"></script>
	<link rel="stylesheet" href="../../css/style.css" type="text/css" />
	<title>Menagerie Network</title>
	<script src="js/lib/angular/angular.min.js"></script>
	<script src="js/lib/angular/angular-route.min.js"></script>
	<script src="js/lib/angular/angular-animate.min.js"></script>


	<script src="js/animal.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.7.8/firebase.js"></script>
	<script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyAGOAeE7W8gWftPStV2nf4PwYyaEuxERNk",
            authDomain: "animalinformation-cd765.firebaseapp.com",
            databaseURL: "https://animalinformation-cd765.firebaseio.com",
            projectId: "animalinformation-cd765",
            storageBucket: "animalinformation-cd765.appspot.com",
            messagingSenderId: "843766532952"
        };
        firebase.initializeApp(config);
	</script>
	<script src=" https://code.jquery.com/jquery-3.1.0.js"> </script>
	<script src="https://cdn.firebase.com/libs/angularfire/2.1.0/angularfire.min.js"></script>
	<script src="js/information.js"></script>

	<script>
        function myFunction() {
            var x = document.createElement("IMG");
            x.setAttribute("src", "../../images/ImageGallery2/Chimpanzee1.jpg");
            x.setAttribute("width", "95");
            x.setAttribute("height", "95");
            document.body.appendChild(x);
        }
		</script>
	<script>
        function searchSel()
        {
            var input = document.getElementById('realtxt').value.toLowerCase();

            len = input.length;
            output = document.getElementById('mySelect').options;
            for(var i=0; i<output.length; i++)
                if (output[i].text.ignoreCase().indexOf(input) != -1 ){
                    output[i].selected = true;
                    break;
                }
            if (input == '')
                output[0].selected = true;
        }





        function nearpostcode(){



            var nearp=document.getElementById("txtStart").value;

            var postcode=document.getElementById("myselect3");



            if (nearp > postcode) {

                var rootRef = firebase.database().ref().child("London");

                rootRef.on("child_added", snap => {
                    var address = snap.child("address").val();
                    var phoneno = snap.child("phoneno").val();
                    var time1 = snap.child("time").val();


                    $("#table_body1").append("<tr><td>" + address + "</td><td>" + phoneno + "</td><td>" + time1 + "</td></tr>")

                });
            }

        }
	</script>
    <script src="js/sorttable.js"></script>
	<script src="js/tsorter.mini.js"></script>
	<script>
	function init() {
	var sorter = tsorter.create('distanceTable');
	}

	window.onload = init;
	</script>
</head>
<body>
<div id="page">
	<div id="header">

		<a href="../../index.html">Menagerie Network Zoo's</a>
		<ul id="navigation">

			<li id="link1"><a href="../../index.html">Home</a></li>
			<li id="link2"><a href="Useraccount.html">Account</a></li>
			<li id="link3"><a href="Planatrip.html">Plan a Trip</a></li>
			<li id="link4" class="selected"><a href="information.html">Info</a></li>
			<li id="link5"><a href="Navigation.html">Navigation</a></li>
			<li id="link6" ><a href="gallery.html">Gallery</a></li>
			<li id="link7" ><a href="contact.html">Contact Us</a></li>



		</ul>
			</div>
			<div id="content">

				<div id ="info">
				<h1> <center>Welcome to Animal Information Page </center> </h1>
				<hr>
					<h2><u> Search Animal </u></h2><br>
					<h3><strong>List of All the Animals:</strong>  </h3>&nbsp;&nbsp;&nbsp;
					<select id="mySelect">
						<option value="void">Animal List</option>
						<option value="Bonobo">Bonobo</option>
						<option value="Chimpanzee">Chimpanzee</option>
						<option value="Elephnat">Elephant</option>
						<option value="Horse">Horse</option>
						<option value="Lion">Lion</option>
						<option value="Panda">Panda</option>
						<option value="Penguin">Penguin</option>
						<option value="Python">Python</option>
						<option value="Tiger">Tiger</option>
						<option value="Turtle">Turtle</option>
					</select> <br><br>



							<h3><strong>Search Animal by their Original or Latin name:</strong>  </h3>
							&nbsp;&nbsp;&nbsp; <input type="text" id="myInput" placeholder="Search Animal">&nbsp;&nbsp;

							<button class="btn btn-default" id="checkbtn" onclick="answers()" type="button">Search</button>
					 <br><br>

					<table id="table1" class="gridtable" style="width:100%" border=" 3" >
						<thead>
						<tr>
							<td><strong>Original Name</strong></td>
							<td><strong>Latin Name</strong></td>
							<td><strong>Order</strong></td>
							<td><strong>Family </strong></td>
							<td><strong>Species</strong> </td>
							<td><strong>Genus</strong> </td>
						</tr>
						</thead>
						<tbody id="table_body">

						</tbody>
					</table>
					<table id="table" class="gridtable" style="width:100%" border=" 3" >
						<thead>
						<tr>
							<td><strong>Animal Description</strong></td>
							<td><strong>Continent</strong></td>
							<td><strong>Country</strong></td>
						</tr>
						</thead>
						<tbody id="table_body3">
						</tbody>
					</table>

					<table id="table" class="gridtable" style="width:100%" border=" 3" >
						<thead>
						<tr>
							<td><strong>Zoo Address</strong></td>
							<td><strong>Contact No</strong></td>
							<td><strong>Timings</strong></td>
							<td><strong>No of Particular Animal</strong></td>
						</tr>
						</thead>
						<tbody id="table_body2">

						</tbody>
					</table><br>

					<h3><strong>Find Nearest Zoo:</strong>  </h3>&nbsp;&nbsp;&nbsp;
					<input type="input" id="getPostCode" placeholder="Enter Postcode"/>
                    <button id="clickForPostcode">Search</button><br><br>
					<table id="distanceTable" class="sortable gridtable" style="width:100%" border=" 3">
						<thead>
							<tr>
								<td><strong>Zoo Location</strong></td>
								<td><strong>Address</strong></td>

							</tr>
						</thead>
						<tbody>

						</tbody>
					</table> <br>

					<h3><strong>All Zoo Location on Map:</strong>  </h3><br>
					<h3>Please Click on the Pinpoint to get the Information about Every Single Zoo of Menagerie Network.</h3><br>

					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<center><iframe src="https://www.google.com/maps/d/embed?mid=1dqgZHTNUc0_UuArX3wRnvHs4n-Y" width="650" height="250"></iframe></center>

					<br><a href="Navigation.html">  <input type="image" src="../../images/Navigation.jpg" ></a>


				</div>
			</div>


			<div id="footer">
				<div>
					<div>
						<p><b>Menagerie Network Zoos Limited</b> Located in  London</p>
						<span>02085885421/ 02074185212</span>
						<span>info@menagerienetwork.com</span>
					</div>

					<ul class="navigation">
						<li ><a href="index.html"><b>Home</b></a></li>
					</ul>

					<ul class="navigation">
						<li ><a href="builds/menageriezoo/Membership.html"><b>Membership</b></a></li>
					</ul>

					<ul class="navigation">
						<li ><a href="builds/menageriezoo/Planatrip.html"><b>Plan a Trip</b></a></li>
					</ul>

					<ul class="navigation">
						<li ><a href="builds/menageriezoo/information.html"><b>Information</b></a></li>

					</ul>

					<ul class="navigation">
						<li ><a href="builds/menageriezoo/Navigation.html"><b>Navigation</b></a></li>
					</ul>

					<ul class="navigation">
						<li ><a href="builds/menageriezoo/gallery.html"><b>Gallery</b></a></li>
					</ul>

					<br><br><br><br>

					<p>Copyright &#169; 2017. All Rights Reserved.</p>
				</div>
			</div>
		</div>
        <div id="emptyMap"></div>
		<script>
            var zoos = [{
                "zoo_name": "Battersea",
                "address" : "Battersea Park Zoo, SW11 4NJ",
                "postcode": "SW11 4NJ",
                "phoneno" : "02079245826",
                "time" : "10:00 - 6:00",
                "latlong": "51.481402,-0.156565"
            }, {
                "zoo_name" : "Bristol",
                "address" : "Bristol Zoo, BS8 3HA",
                "postcode": "SW11 4NJ",
                "phoneno" : "01174285300",
                "time" : "10:00 - 7:00",
                "latlong": "51.463763,-2.622540"
            }, {
                "zoo_name" : "Edinburgh",
                "address" : "Edinburgh Zoo, EH12 6TS",
                "postcode": "EH12 6TS",
                "phoneno" : "01313349171",
                "time" : "10:00 - 6:00",
                "latlong": "55.942175,-3.269330"
            }, {
                "zoo_name" : "Hamerton",
                "address" : "Hamerton Zoo, PE28 5RE",
                "postcode": "PE28 5RE",
                "phoneno" : "01832293362",
                "time" : "09:00 - 05:00",
                "latlong": "52.409116,-0.329220"
            }, {
                "zoo_name" : "London",
                "address" : "London Zoo, NW1 4RY",
                "postcode": "NW1 4RY",
                "phoneno" : "02074496200",
                "time" : "09:00 - 06:00",
                "latlong": "51.535288,-0.153430"
            }];
            var $table = $("#distanceTable");
            var $tableBody = $table.find("tbody");
            var $tableHead = $table.find("thead");
            var tr = '';
            var dist = 0;

			$(document).ready(function(){
			    // Click button for postcode
                $('#clickForPostcode').on('click', function() {
                    var $postcodeField = $('#getPostCode');
                    if($postcodeField.val() == '') {
                        window.alert('Please enter Postcode');
                        return;
                    }// REST Location API
                    $.ajax({
                        type : 'GET',
                        dataType: 'jsonp',
                        jsonp: "jsonp",
                        url: 'http://dev.virtualearth.net/REST/v1/Locations?postalCode='+$postcodeField.val()+'&key=ApYNd1ObhgY90KbOi7P8dG6jSY6iJ4S9HyE625QfyXM7y8Vbv99DNpeslf1Snf3I',
                        success: function(response) {
                           $tableHead.find('tr').append('<th align="center">Distance (KM)</th>');
                            $.each(zoos, function(key, value) {
                                var latlong = value.latlong;
                                var latlong = latlong.split(",");
                                dist = distance(
                                    latlong[0],
                                    latlong[1],
                                    response.resourceSets[0].resources[0].point.coordinates[0],
                                    response.resourceSets[0].resources[0].point.coordinates[1]);
                                $tableBody.find("tr:eq("+key+")").append("<td>"+parseFloat(Math.round(dist * 100) / 100).toFixed(0)+"</td>");
                            }); } }); });
			    $.each(zoos, function(key, value) {
			        //console.log(value.zoo_name);
			        tr += '<tr>' +
								'<td>' + value.zoo_name + '</td>' +
								'<td>' + value.address + '</td>' +
							'</tr>';  });
			    $tableBody.append(tr); })

            function distance(lat1, lon1, lat2, lon2) {
                var p = 0.017453292519943295;    // Math.PI / 180
                var c = Math.cos;
                var a = 0.5 - c((lat2 - lat1) * p)/2 +
                    c(lat1 * p) * c(lat2 * p) *
                    (1 - c((lon2 - lon1) * p))/2;

                return 12742 * Math.asin(Math.sqrt(a)); // 2 * R; R = 6371 km
            }
		</script>

<script src="js/ResponsiveVoice.js"></script>
	</body>
</html>  